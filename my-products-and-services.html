<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Services & Products - YourHelpa</title>
    <meta name="robots" content="noindex, nofollow">
    <link rel="stylesheet" href="styles/style.css">
    <style>
        body {
            background-color: var(--background-color);
        }

        .settings-container {
            max-width: 900px;
            margin: 2rem auto;
            padding: 0 1.5rem;
        }

        .page-navigation {
            margin-bottom: 2rem;
        }

        .page-navigation a {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-muted-color);
            font-weight: 500;
            text-decoration: none;
        }

        .page-navigation a:hover {
            color: var(--primary-color);
        }

        .settings-card {
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 2rem;
        }

        .settings-card h1 {
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .settings-card .page-intro {
            font-size: 1rem;
            color: var(--text-muted-color);
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        .activation-banner {
            background-color: rgba(var(--primary-color-rgb), 0.05);
            border: 1px solid rgba(var(--primary-color-rgb), 0.2);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 1rem;
        }

        .activation-banner p {
            margin: 0;
            font-size: 0.9rem;
            max-width: 600px;
        }

        /* Re-using form styles */
        .form-fieldset { border: none; padding: 0; margin: 0 0 3rem 0; }
        .form-fieldset:last-of-type { margin-bottom: 0; }
        .form-fieldset legend { font-size: 1.25rem; font-weight: 700; padding: 0; margin-bottom: 0.5rem; color: var(--text-heading-color); display: flex; align-items: center; gap: 0.5rem;}
        .form-fieldset .legend-desc { font-size: 0.9rem; color: var(--text-muted-color); margin-bottom: 1.5rem; }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 500; }
        .form-group input, .form-group select { width: 100%; }
        .checkbox-group { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1rem; }
        .checkbox-label { display: flex; align-items: center; gap: 0.75rem; font-weight: normal; cursor: pointer; background-color: var(--background-color); padding: 0.75rem 1rem; border-radius: 8px; border: 1px solid var(--border-color); }
        .checkbox-label:hover { border-color: var(--primary-color); }
        .checkbox-label input[type="checkbox"] { width: auto; height: 1.2em; width: 1.2em; }
        .form-group small { display: block; margin-top: 0.5rem; font-size: 0.85rem; color: var(--text-muted-color); }

        .form-actions {
            padding-top: 2rem;
            margin-top: 2rem;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: flex-end;
        }

        .time-input-group {
            display: grid;
            grid-template-columns: 100px 1fr 1fr;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.75rem;
        }

        @media (max-width: 600px) {
            .time-input-group {
                grid-template-columns: 1fr;
            }
            .time-input-group label {
                margin-bottom: 0;
            }
        }

        .location-input-wrapper {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }

        .location-input-wrapper:last-child {
            margin-bottom: 0;
        }

        .delete-location-btn {
            background-color: transparent;
            border: none;
            color: var(--error-color);
            cursor: pointer;
            padding: 0.5rem;
            line-height: 1;
        }
        .delete-location-btn:hover {
            opacity: 0.7;
        }

        .currency-input-wrapper {
            position: relative;
        }

        .currency-input-wrapper::before {
            content: '‚Ç¶';
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted-color);
            font-weight: 600;
            pointer-events: none; /* Make sure it doesn't block clicks on the input */
        }
        .currency-input-wrapper input {
            padding-left: 2.5rem; /* Make space for the currency symbol */
        }
    </style>
</head>
<body>
    <div id="header-placeholder"></div>

    <main>
        <div class="settings-container">
            <div class="page-navigation">
                <a href="helpa-dashboard.html">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>
                    Back to Dashboard
                </a>
            </div>

            <div class="settings-card">
                <h1>
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>
                    My Services: Setup and Management Guide
                </h1>
                <p class="page-intro">Welcome! Before you can start receiving job requests, you need to tell YourHelpa exactly what services you offer, where you operate, and how much you charge.</p>

                <div class="activation-banner">
                    <p>üìù <strong>To Start Taking Jobs:</strong> You must complete Sections 1, 2, and 3 before your profile becomes active. Once complete, this button will be enabled.</p>
                    <button class="button-primary" disabled>Activate Profile</button>
                </div>

                <form id="services-form">
                    <!-- Section 1: Service Categories -->
                    <fieldset class="form-fieldset">
                        <legend>Section 1: Service Categories</legend>
                        <p class="legend-desc">Goal: Select the specific services you are qualified to perform.</p>
                        <div class="form-group">
                            <label for="primary-category">Select Your Primary Category</label>
                            <select id="primary-category" name="primary-category" required>
                                <option value="" disabled selected>-- Choose your industry or product type --</option>
                                <optgroup label="Home Services">
                                    <option value="plumbing">Plumbing</option>
                                    <option value="electrical">Electrical Work</option>
                                    <option value="hvac">HVAC (AC & Heating)</option>
                                    <option value="cleaning">Cleaning Services</option>
                                    <option value="painting">Painting</option>
                                    <option value="appliance_repair">Appliance Repair</option>
                                    <option value="carpentry">Carpentry & Woodwork</option>
                                    <option value="landscaping">Gardening & Landscaping</option>
                                    <option value="pest_control">Pest Control</option>
                                    <option value="moving_hauling">Moving & Hauling</option>
                                    <option value="roofing">Roofing & Guttering</option>
                                    <option value="flooring_tiling">Flooring & Tiling</option>
                                    <option value="interior_design">Interior Design</option>
                                </optgroup>
                                <optgroup label="Professional Services">
                                    <option value="consulting">Business Consulting</option>
                                    <option value="accounting">Accounting & Bookkeeping</option>
                                    <option value="legal">Legal Services</option>
                                    <option value="marketing_seo">Marketing & SEO</option>
                                    <option value="writing_translation">Writing & Translation</option>
                                    <option value="virtual_assistant">Virtual Assistant</option>
                                </optgroup>
                                <optgroup label="Wellness & Beauty">
                                    <option value="hair_styling">Hair Styling & Barbering</option>
                                    <option value="makeup_artistry">Makeup Artistry</option>
                                    <option value="personal_training">Personal Training</option>
                                    <option value="massage_therapy">Massage Therapy</option>
                                    <option value="nail_technician">Nail Technician</option>
                                    <option value="esthetician">Esthetician (Skincare)</option>
                                    <option value="yoga_meditation">Yoga & Meditation</option>
                                    <option value="nutritionist">Nutritionist / Dietitian</option>
                                </optgroup>
                                <optgroup label="Events">
                                    <option value="photography">Photography & Videography</option>
                                    <option value="catering">Catering</option>
                                    <option value="event_planning">Event Planning</option>
                                    <option value="dj_services">DJ Services</option>
                                    <option value="mc_host">MC / Event Host</option>
                                    <option value="event_decor">Event Decoration</option>
                                </optgroup>
                                <optgroup label="Creative & Design">
                                    <option value="graphic_design">Graphic Design</option>
                                    <option value="ui_ux_design">UI/UX Design</option>
                                    <option value="illustration">Illustration</option>
                                    <option value="voice_over">Voice Over Artist</option>
                                </optgroup>
                                <optgroup label="Lessons & Education">
                                    <option value="academic_tutoring">Academic Tutoring</option>
                                    <option value="music_lessons">Music Lessons</option>
                                    <option value="language_lessons">Language Lessons</option>
                                    <option value="art_lessons">Art & Craft Lessons</option>
                                </optgroup>
                                <optgroup label="Product Sales">
                                    <option value="fashion">Fashion & Apparel</option>
                                    <option value="home_goods">Home & Garden Goods</option>
                                    <option value="electronics">Electronics</option>
                                    <option value="food_groceries">Food & Groceries</option>
                                    <option value="health_beauty_products">Health & Beauty Products</option>
                                    <option value="arts_crafts">Arts & Crafts</option>
                                    <option value="books_stationery">Books & Stationery</option>
                                    <option value="pet_supplies">Pet Supplies</option>
                                    <option value="automotive_parts">Automotive Parts</option>
                                </optgroup>
                                <optgroup label="Automotive Services">
                                    <option value="auto_mechanic">Auto Mechanic</option>
                                    <option value="car_detailing">Car Wash & Detailing</option>
                                    <option value="tire_repair">Tire Repair & Replacement</option>
                                </optgroup>
                                <optgroup label="Tech & IT">
                                    <option value="computer_repair">Computer & Laptop Repair</option>
                                    <option value="phone_repair">Phone & Tablet Repair</option>
                                    <option value="network_setup">Network & Wi-Fi Setup</option>
                                    <option value="smart_home">Smart Home Installation</option>
                                </optgroup>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="specific-skill">Describe Your Specific Skill</label>
                            <input type="text" id="specific-skill" name="specific-skill" placeholder="e.g., Residential Plumbing, iPhone Screen Repair, Bespoke Tailoring" required>
                            <small>This will be the main title for your service/product listing.</small>
                        </div>
                    </fieldset>

                    <!-- Section 2: Service Location and Availability -->
                    <fieldset class="form-fieldset">
                        <legend>Section 2: Service Location & Availability</legend>
                        <p class="legend-desc">Goal: Define your operating zone and availability hours. You will only receive requests within this zone.</p>
                        <div class="form-group">
                            <label>Service Locations</label>
                            <div id="locations-container">
                                <input type="text" name="locations[]" placeholder="e.g., Lekki" required class="location-input">
                                <div class="location-input-wrapper">
                                    <input type="text" name="locations[]" placeholder="e.g., Lekki" required class="location-input">
                                </div>
                            </div>
                            <button type="button" id="add-location-btn" class="button-secondary" style="margin-top: 0.75rem;">Add another location</button>
                        </div>
                        <div class="form-group">
                            <label for="service-radius">Set Radius (Maximum travel distance)</label>
                            <input type="range" id="service-radius" name="service-radius" min="5" max="50" value="10" step="5">
                            <small>Current Radius: <span id="radius-value">10</span>km</small>
                        </div>
                        <div class="form-group">
                            <label>Set Operating Hours</label>
                            <div class="time-input-group">
                                <label for="monday-start">Monday</label>
                                <input type="time" id="monday-start" name="monday-start" value="09:00">
                                <input type="time" id="monday-end" name="monday-end" value="17:00">
                            </div>
                            <!-- ... Repeat for other days ... -->
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label"><input type="checkbox" name="emergency_available"> Available for Emergency/After-Hours</label>
                        </div>
                    </fieldset>

                    <!-- Section 3: Pricing and Fees -->
                    <fieldset class="form-fieldset">
                        <legend>Section 3: Pricing and Fees</legend>
                        <p class="legend-desc">Goal: Set clear, transparent pricing models for standard and emergency jobs.</p>
                        <div class="form-group">
                            <label for="call-fee">Standard Service Call Fee (Diagnostic/Trip Fee)</label>
                            <div class="currency-input-wrapper">
                                <input type="number" id="call-fee" name="call-fee" placeholder="5000" required>
                            </div>
                            <small>This is charged for travel and diagnosis, regardless of job acceptance.</small>
                        </div>
                        <div class="form-group">
                            <label for="hourly-rate">Hourly Rate (Optional)</label>
                            <div class="currency-input-wrapper">
                                <input type="number" id="hourly-rate" name="hourly-rate" placeholder="8000">
                            </div>
                            <small>Your standard labor rate per hour after the initial diagnosis.</small>
                        </div>
                        <div class="form-group">
                            <label for="emergency-surcharge">Emergency Surcharge (%)</label>
                            <input type="number" id="emergency-surcharge" name="emergency-surcharge" placeholder="e.g., 25">
                            <small>Percentage added to your quote for jobs outside standard hours.</small>
                        </div>
                    </fieldset>

                    <!-- Section 4: Profile Visibility & Tools -->
                    <fieldset class="form-fieldset">
                        <legend>Section 4: Profile Visibility & Tools</legend>
                        <p class="legend-desc">Goal: Ensure your profile looks professional and your communication tools are set up.</p>
                        <div class="form-group">
                            <label for="profile-photo">Profile Photo</label>
                            <input type="file" id="profile-photo" name="profile-photo" accept="image/*">
                            <small>Upload a clear, professional photo of yourself (no hats or sunglasses).</small>
                        </div>
                        <div class="form-group">
                            <label for="bio">Bio/Summary (100 words max)</label>
                            <textarea id="bio" name="bio" rows="4" maxlength="500"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="business-name">Brand/Business Name (Optional)</label>
                            <input type="text" id="business-name" name="business-name" placeholder="e.g., John's Plumbing Experts">
                        </div>
                        <div class="form-group">
                            <label for="cac-number">CAC Registration Number (Optional)</label>
                            <input type="text" id="cac-number" name="cac-number" placeholder="e.g., RC 123456">
                        </div>
                        <div class="form-group">
                            <label>Professional Brand / Business Profiles (Optional)</label>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <input type="url" name="social_instagram" placeholder="Instagram Profile URL (e.g., https://instagram.com/yourbrand)">
                                <input type="url" name="social_facebook" placeholder="Facebook Page URL">
                                <input type="url" name="social_twitter" placeholder="X / Twitter Profile URL">
                            </div>
                            <small>Link to your professional brand pages on Instagram, Facebook, or X/Twitter.</small>
                        </div>
                        <div class="form-group">
                            <label>Proof of Integrity (Optional)</label>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <input type="url" name="portfolio_link" placeholder="Personal Portfolio Website URL">
                                <input type="url" name="professional_profile_link" placeholder="Professional Profile URL (e.g., LinkedIn)">
                                <input type="url" name="cv_link" placeholder="Link to your CV/Resume (e.g., Google Drive)">
                                <input type="file" name="cv_upload" accept=".pdf,.doc,.docx">
                            </div>
                            <small>Showcase your expertise with a portfolio, professional profile, or CV.</small>
                        </div>
                        <div class="form-group">
                            <button type="button" class="button-secondary">Connect WhatsApp</button>
                            <small>Recommended for instant job notifications and customer communication.</small>
                        </div>
                        <div class="form-group">
                            <a href="#" class="button-secondary">Preview Public Profile</a>
                        </div>
                    </fieldset>

                    <div class="form-actions">
                        <button type="submit" class="button-primary">Save All Changes</button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <div id="footer-placeholder"></div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/config.js"></script>
    <script src="js/supabase-client.js"></script>
    <script src="js/main.js"></script>
    <script src="js/includes.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const radiusSlider = document.getElementById('service-radius');
            const radiusValue = document.getElementById('radius-value');

            if (radiusSlider && radiusValue) {
                radiusSlider.addEventListener('input', (e) => {
                    radiusValue.textContent = e.target.value;
                });
            }

            const addLocationBtn = document.getElementById('add-location-btn');
            const locationsContainer = document.getElementById('locations-container');

            if (addLocationBtn && locationsContainer) {
                addLocationBtn.addEventListener('click', () => {
                    const wrapper = document.createElement('div');
                    wrapper.className = 'location-input-wrapper';

                    const newLocationInput = document.createElement('input');
                    newLocationInput.type = 'text';
                    newLocationInput.name = 'locations[]';
                    newLocationInput.placeholder = 'e.g., Ikeja';
                    newLocationInput.required = true;
                    newLocationInput.className = 'location-input';
                    newLocationInput.style.marginTop = '0.75rem';
                    locationsContainer.appendChild(newLocationInput);

                    const deleteBtn = document.createElement('button');
                    deleteBtn.type = 'button';
                    deleteBtn.className = 'delete-location-btn';
                    deleteBtn.innerHTML = '&times;'; // A simple 'X' for the delete icon
                    deleteBtn.setAttribute('aria-label', 'Remove location');

                    wrapper.appendChild(newLocationInput);
                    wrapper.appendChild(deleteBtn);
                    locationsContainer.appendChild(wrapper);
                });

                locationsContainer.addEventListener('click', (e) => {
                    if (e.target && e.target.classList.contains('delete-location-btn')) {
                        // Prevent removing the very last input field
                        if (locationsContainer.querySelectorAll('.location-input-wrapper').length > 1) {
                            e.target.closest('.location-input-wrapper').remove();
                        }
                    }
                });
            }

            // Future logic to handle form submission and data fetching will go here.
        });
    </script>
</body>
</html>